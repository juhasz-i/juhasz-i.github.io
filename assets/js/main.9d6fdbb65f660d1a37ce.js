(()=>{"use strict";var t={56:(t,e,i)=>{t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function i(t){for(var i=-1,s=0;s<e.length;s++)if(e[s].identifier===t){i=s;break}return i}function s(t,s){for(var a={},o=[],r=0;r<t.length;r++){var l=t[r],c=s.base?l[0]+s.base:l[0],h=a[c]||0,d="".concat(c," ").concat(h);a[c]=h+1;var m=i(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)e[m].references++,e[m].updater(p);else{var u=n(p,s);s.byIndex=r,e.splice(r,0,{identifier:d,updater:u,references:1})}o.push(d)}return o}function n(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,n){var a=s(t=t||[],n=n||{});return function(t){t=t||[];for(var o=0;o<a.length;o++){var r=i(a[o]);e[r].references--}for(var l=s(t,n),c=0;c<a.length;c++){var h=i(a[c]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}a=l}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i="",s=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),s&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),s&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i}).join("")},e.i=function(t,i,s,n,a){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(s)for(var r=0;r<this.length;r++){var l=this[r][0];null!=l&&(o[l]=!0)}for(var c=0;c<t.length;c++){var h=[].concat(t[c]);s&&o[h[0]]||(void 0!==a&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=a),i&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=i):h[2]=i),n&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=n):h[4]="".concat(n)),e.push(h))}},e}},465:(t,e,i)=>{i.d(e,{A:()=>r});var s=i(601),n=i.n(s),a=i(314),o=i.n(a)()(n());o.push([t.id,':root{--bg: #070707;--tile: #111;--text: #f5f5f5;--muted: rgba(245, 245, 245, 0.65);--accent: #d85947;--tile-gap: clamp(1rem, 2vw, 2rem)}*{box-sizing:border-box;margin:0}html{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none}body{font-family:"Space Grotesk","Segoe UI",system-ui,-apple-system,BlinkMacSystemFont,sans-serif;background:radial-gradient(circle at top, #111 0%, #050505 55%);color:var(--text);min-height:100vh;overflow:hidden;overscroll-behavior:none;-webkit-overflow-scrolling:touch}.page{display:flex;flex-direction:column;min-height:100vh}.site-header{display:flex;align-items:center;justify-content:space-between;padding:1.25rem clamp(1rem,5vw,3rem);position:sticky;top:0;z-index:2;background:rgba(5,5,5,.85);backdrop-filter:blur(8px);border-bottom:1px solid hsla(0,0%,100%,.05)}.brand{font-size:1.25rem;letter-spacing:.08em}nav{display:flex;gap:1.5rem;text-transform:uppercase;font-size:.8rem}.nav-link{color:var(--muted);text-decoration:none;letter-spacing:.15em}.nav-link:hover{color:#fff}.gallery-shell{flex:1;padding:0 clamp(1rem,4vw,3rem)}.gallery-scroll{height:calc(106vh - 200px);padding:2rem 0 3rem;overflow:hidden}.gallery-grid{position:relative;width:100%;height:100%;contain:paint;--columns: 8;--rows: 6;--tile-size: clamp(220px, 18vw, 320px);transform:translateZ(0);-webkit-transform:translateZ(0);user-select:none;-webkit-user-select:none;touch-action:none;-webkit-user-drag:none}.gallery-grid.is-dragging .tile{transition:none;pointer-events:none}.gallery-grid::before{content:"";position:absolute;inset:0;pointer-events:none;box-shadow:inset 0 0 120px 40px rgba(0,0,0,.85);z-index:2}.tile{position:absolute;overflow:hidden;border-radius:1.25rem;background:var(--tile);border:1px solid hsla(0,0%,100%,.05);box-shadow:0 20px 40px rgba(0,0,0,.45);transition:transform 200ms ease;width:calc(clamp(220px,18vw,320px)*1.1);height:calc(clamp(220px,18vw,320px)*1.1);will-change:transform;transform:translate3d(0, 0, 0);backface-visibility:hidden;-webkit-backface-visibility:hidden}@media(pointer: coarse){.tile{box-shadow:0 10px 20px rgba(0,0,0,.4)}}.tile:hover{transform:translateY(-6px)}@media(pointer: coarse){.tile:hover{transform:none}}.tile img{width:100%;height:100%;object-fit:contain;background-color:#111;pointer-events:none;user-select:none;-webkit-user-select:none;-webkit-user-drag:none;image-rendering:auto}.tile figcaption{position:absolute;inset:auto 0 0;padding:1.25rem;background:linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.8) 100%);display:flex;flex-direction:column;gap:.5rem;font-size:.85rem}.tile strong{font-size:.95rem;letter-spacing:.08em}.tile span{color:var(--muted)}.site-footer{margin-top:auto;padding:1.5rem clamp(1rem,5vw,3rem);border-top:1px solid hsla(0,0%,100%,.08);display:flex;flex-wrap:wrap;justify-content:space-between;gap:1rem;font-size:.9rem;background:rgba(5,5,5,.9)}.site-footer a{color:var(--accent);text-decoration:none}.site-footer a:hover{text-decoration:underline}@media(max-width: 768px){.gallery-grid{grid-auto-columns:minmax(180px, 60vw);grid-auto-rows:minmax(180px, 60vw)}.site-header{flex-direction:column;gap:1rem}}.is-dragging{cursor:grabbing}[data-grid]{cursor:grab}@media(max-width: 768px){body{overflow:auto}.site-header nav{gap:1rem;font-size:.7rem}.tile{border-radius:1rem}}@media(max-width: 480px){:root{--tile-size: clamp(160px, 45vw, 240px)}.site-header{padding:.75rem 1rem}}@media(max-width: 768px){body{overflow:auto}.site-header nav{gap:1rem;font-size:.7rem}.tile{border-radius:1rem}}@media(max-width: 480px){:root{--tile-size: clamp(160px, 45vw, 240px)}.site-header{padding:.75rem 1rem}}[data-grid]{touch-action:none;user-select:none;-webkit-user-drag:none}.contact-page{position:fixed;inset:0;background:radial-gradient(circle at top, #111 0%, #050505 55%);z-index:10;display:flex;align-items:center;padding:clamp(2rem,5vw,4rem);transform:translateY(100%);opacity:0;pointer-events:none;transition:transform .5s cubic-bezier(0.4, 0, 0.2, 1),opacity .5s ease}.contact-page.is-active{transform:translateY(0);opacity:1;pointer-events:auto}.contact-content{text-align:left;max-width:600px;padding-top:4rem}.contact-content h1{font-size:clamp(2rem,6vw,4rem);letter-spacing:.05em;margin-bottom:2rem}.contact-info{display:flex;flex-direction:column;gap:1rem;align-items:flex-start}.contact-info p{font-size:clamp(1rem,3vw,1.5rem)}.contact-info a{color:var(--accent);text-decoration:none;transition:color .2s ease}.contact-info a:hover{color:#fff;text-decoration:underline}.gallery-shell{transition:transform .4s cubic-bezier(0.4, 0, 0.2, 1),opacity .4s ease}.gallery-shell.is-exiting{transform:translateY(-100%);opacity:0;pointer-events:none}.site-footer{transition:transform .4s cubic-bezier(0.4, 0, 0.2, 1),opacity .4s ease}.site-footer.is-hidden{transform:translateY(100%);opacity:0;pointer-events:none}body.contact-active .site-header{z-index:20}',""]);const r=o},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,i){var s=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var s="";i.supports&&(s+="@supports (".concat(i.supports,") {")),i.media&&(s+="@media ".concat(i.media," {"));var n=void 0!==i.layer;n&&(s+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),s+=i.css,n&&(s+="}"),i.media&&(s+="}"),i.supports&&(s+="}");var a=i.sourceMap;a&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var a=e[s]={id:s,exports:{}};return t[s](a,a.exports,i),a.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.nc=void 0;var s=i(72),n=i.n(s),a=i(825),o=i.n(a),r=i(659),l=i.n(r),c=i(56),h=i.n(c),d=i(540),m=i.n(d),p=i(113),u=i.n(p),f=i(465),g={};g.styleTagTransform=u(),g.setAttributes=h(),g.insert=l().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=m(),n()(f.A,g),f.A&&f.A.locals&&f.A.locals;const v=[{title:"Háromlábú asztal",image:"assets/images/haromlabu_asztal.jpg"},{title:"Négylábú asztal",image:"assets/images/negylabu_asztal.jpg"},{title:"Háromlábú sámli",image:"assets/images/haromlabu_samli.jpg"},{title:"Négylábú szék",image:"assets/images/negylabu_szek.jpg"},{title:"Fali polc",image:"assets/images/fali_polc.jpg"},{title:"Könyvespolc",image:"assets/images/konyvespolc.jpg"},{title:"Bejárati ajtó",image:"assets/images/bejarati_ajto.jpg"},{title:"Szobainas",image:"assets/images/szobainas.jpg"},{title:"Ruhásszekrény",image:"assets/images/ruhasszekreny.jpg"},{title:"Franciaágy",image:"assets/images/franciaagy.jpg"}],y=(t,e,i)=>Math.min(Math.max(t,e),i);class x{constructor(t,e){this.grid=t,this.items=e,this.tileMatrix=[],this.cols=0,this.rows=0,this.baseCol=0,this.baseRow=0,this.offset={x:0,y:0},this.isPointerDown=!1,this.pointerId=null,this.cellSize=320,this.velocity={x:0,y:0},this.lastPinchDistance=null,this.lastPinchUpdate=0,this.animationFrame=null,this.lastTimestamp=0,this.resizeTimeout=null,this.damping=.92,this.maxVelocity=40,this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.animate=this.animate.bind(this)}mount(){this.grid.addEventListener("pointerdown",this.handlePointerDown),this.grid.addEventListener("pointermove",this.handlePointerMove),this.grid.addEventListener("pointerup",this.handlePointerUp),this.grid.addEventListener("pointercancel",this.handlePointerUp),this.grid.addEventListener("touchmove",t=>this.handleTouchPinch(t),{passive:!0}),this.grid.addEventListener("touchend",()=>{this.lastPinchDistance=null}),window.addEventListener("resize",()=>{null!==this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.measureCell(),this.renderTiles()},150)}),document.addEventListener("visibilitychange",()=>{document.hidden?this.stopAnimation():Math.hypot(this.velocity.x,this.velocity.y)>.05&&this.startAnimation()}),window.addEventListener("orientationchange",()=>{this.buildTiles()}),this.buildTiles()}buildTiles(){const{clientWidth:t,clientHeight:e}=this.grid,i=Math.ceil(t/this.cellSize),s=Math.ceil(e/this.cellSize),n=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.matchMedia("(pointer: coarse)").matches,a=n?3:9,o=n?15:27,r=Math.max(o,i*a),l=Math.max(o,s*a);this.cols=r,this.rows=l,this.baseCol=-Math.floor(r/2),this.baseRow=-Math.floor(l/2),this.stopAnimation(),this.velocity={x:0,y:0},this.tileMatrix.length>0&&this.tileMatrix.forEach(t=>{t.forEach(t=>{t.img.src=""})});const c=document.createDocumentFragment();this.tileMatrix=Array.from({length:l},(t,e)=>Array.from({length:r},(t,i)=>{const s=this.createTile(i,e);return c.appendChild(s.el),s})),this.grid.innerHTML="",this.grid.appendChild(c),this.measureCell();const h=-(Math.floor(r/2)-Math.floor(i/2))*this.cellSize,d=-(Math.floor(l/2)-Math.floor(s/2))*this.cellSize;this.offset={x:h,y:d},this.updateTiles(),this.renderTiles()}measureCell(){const t=this.tileMatrix[0]?.[0]?.el;if(!t)return;const e=t.getBoundingClientRect(),i=getComputedStyle(this.grid),s=parseFloat(i.getPropertyValue("--tile-gap"))||32;let n=e.width,a=e.height;n&&a&&!isNaN(n)&&!isNaN(a)||(n=a=260),this.cellSize=Math.max(e.width,e.height)+s,(isNaN(this.cellSize)||this.cellSize<=10)&&(this.cellSize=260+s)}createTile(t,e){const i=document.createElement("figure");i.className="tile";const s=document.createElement("img");s.loading="lazy",s.decoding="async";const n=document.createElement("figcaption"),a=document.createElement("strong");return n.append(a),i.append(s,n),{el:i,img:s,titleEl:a,col:t,row:e,worldCol:0,worldRow:0}}updateTiles(){this.tileMatrix.forEach((t,e)=>{t.forEach((t,i)=>{const s=this.baseCol+i,n=this.baseRow+e;this.setTileWorldCoordinates(t,s,n),this.assignTileContent(t,s,n)})})}assignTileContent(t,e,i){const s=this.items[this.hashCoordinate(e,i)];t.img.src=s.image,t.img.alt=s.title,t.titleEl.textContent=s.title}setTileWorldCoordinates(t,e,i){t.worldCol=e,t.worldRow=i}renderTiles(){const{clientWidth:t,clientHeight:e}=this.grid,i=2*this.cellSize;this.tileMatrix.forEach((s,n)=>{s.forEach((s,a)=>{const o=a*this.cellSize+this.offset.x,r=n*this.cellSize+this.offset.y;o>-i&&o<t+i&&r>-i&&r<e+i?(s.el.style.transform=`translate3d(${o}px, ${r}px, 0)`,"hidden"===s.el.style.visibility&&(s.el.style.visibility="visible")):"hidden"!==s.el.style.visibility&&(s.el.style.visibility="hidden")})})}wrapOffsets(){const{clientWidth:t,clientHeight:e}=this.grid,i=2*this.cellSize,s=2*this.cellSize,n=(this.cols-1)*this.cellSize,a=(this.rows-1)*this.cellSize;let o=this.offset.x;for(;o>i;)this.offset.x-=this.cellSize,this.baseCol-=1,this.tileMatrix.forEach((t,e)=>{const i=t.pop();if(!i)return;const s=this.baseCol,n=this.baseRow+e;this.setTileWorldCoordinates(i,s,n),this.assignTileContent(i,s,n),t.unshift(i)}),o=this.offset.x;let r=this.offset.x+n;for(;r<t-i;)this.offset.x+=this.cellSize,this.baseCol+=1,this.tileMatrix.forEach((t,e)=>{const i=t.shift();if(!i)return;const s=this.baseCol+this.cols-1,n=this.baseRow+e;this.setTileWorldCoordinates(i,s,n),this.assignTileContent(i,s,n),t.push(i)}),r=this.offset.x+n;let l=this.offset.y;for(;l>s;){this.offset.y-=this.cellSize,this.baseRow-=1;const t=this.tileMatrix.pop();if(!t)break;t.forEach((t,e)=>{const i=this.baseCol+e,s=this.baseRow;this.setTileWorldCoordinates(t,i,s),this.assignTileContent(t,i,s)}),this.tileMatrix.unshift(t),l=this.offset.y}let c=this.offset.y+a;for(;c<e-s;){this.offset.y+=this.cellSize,this.baseRow+=1;const t=this.tileMatrix.shift();if(!t)break;t.forEach((t,e)=>{const i=this.baseCol+e,s=this.baseRow+this.rows-1;this.setTileWorldCoordinates(t,i,s),this.assignTileContent(t,i,s)}),this.tileMatrix.push(t),c=this.offset.y+a}}handlePointerDown(t){"touch"===t.pointerType&&null!==this.lastPinchDistance||(this.isPointerDown=!0,this.pointerId=t.pointerId,this.grid.setPointerCapture(t.pointerId),this.grid.classList.add("is-dragging"),this.stopAnimation(),this.velocity={x:0,y:0},t.preventDefault())}handlePointerMove(t){if(!this.isPointerDown||t.pointerId!==this.pointerId)return;const e=window.matchMedia("(pointer: coarse)").matches?.15:.4,i=t.movementX||0,s=t.movementY||0;!isNaN(i)&&!isNaN(s)&&isFinite(i)&&isFinite(s)&&(this.offset.x+=i,this.offset.y+=s,this.velocity.x=y(.6*this.velocity.x+i*e,-this.maxVelocity,this.maxVelocity),this.velocity.y=y(.6*this.velocity.y+s*e,-this.maxVelocity,this.maxVelocity),this.wrapOffsets(),this.renderTiles())}handlePointerUp(t){t.pointerId===this.pointerId&&(this.isPointerDown=!1,this.pointerId=null,this.grid.hasPointerCapture(t.pointerId)&&this.grid.releasePointerCapture(t.pointerId),this.grid.classList.remove("is-dragging"),this.startAnimation())}handleTouchPinch(t){if(2!==t.touches.length)return;const e=performance.now();if(e-this.lastPinchUpdate<50)return;const[i,s]=[t.touches[0],t.touches[1]],n=s.clientX-i.clientX,a=s.clientY-i.clientY,o=Math.hypot(n,a);if(null!==this.lastPinchDistance){const t=o/this.lastPinchDistance;if(t<.5||t>2||!isFinite(t))return void(this.lastPinchDistance=o);const i=document.documentElement;let s=parseFloat(getComputedStyle(i).getPropertyValue("--tile-size"));s&&!isNaN(s)||(s=260);const n=y(s*t,120,480);i.style.setProperty("--tile-size",`${n}px`),this.lastPinchUpdate=e,this.measureCell(),this.renderTiles()}this.lastPinchDistance=o}startAnimation(){null===this.animationFrame&&(this.lastTimestamp=performance.now(),this.animationFrame=requestAnimationFrame(this.animate))}stopAnimation(){null!==this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=null,this.lastTimestamp=0)}animate(t){if(isNaN(this.velocity.x)||isNaN(this.velocity.y))return this.velocity.x=0,this.velocity.y=0,void this.stopAnimation();if(null===this.animationFrame)return;this.lastTimestamp||(this.lastTimestamp=t);const e=Math.max(1,t-this.lastTimestamp);if(e>1e3)return this.lastTimestamp=t,void this.stopAnimation();this.lastTimestamp=t,this.offset.x+=this.velocity.x,this.offset.y+=this.velocity.y;const i=Math.pow(this.damping,e/16.67);this.velocity.x*=i,this.velocity.y*=i,Math.hypot(this.velocity.x,this.velocity.y)<.05?this.stopAnimation():(this.wrapOffsets(),this.renderTiles(),this.animationFrame=requestAnimationFrame(this.animate))}hashCoordinate(t,e){return Math.abs(73856093*t+19349663*e)%this.items.length}}document.addEventListener("DOMContentLoaded",()=>{(()=>{const t=document.querySelector("[data-grid]");t&&new x(t,v).mount()})(),b();const t=document.getElementById("year");t&&(t.textContent=(new Date).getFullYear().toString())});const b=()=>{const t=document.querySelectorAll("[data-nav]"),e=document.querySelector('[data-page="gallery"]'),i=document.querySelector('[data-page="contact"]'),s=document.querySelector(".site-footer");e&&i&&s&&t.forEach(t=>{t.addEventListener("click",n=>{n.preventDefault();const a=t.dataset.nav;"gallery"===a?(document.body.classList.remove("contact-active"),e.classList.remove("is-exiting"),i.classList.remove("is-active"),s.classList.remove("is-hidden")):"contact"===a&&(document.body.classList.add("contact-active"),e.classList.add("is-exiting"),s.classList.add("is-hidden"),setTimeout(()=>{i.classList.add("is-active")},150))})})}})();
//# sourceMappingURL=main.9d6fdbb65f660d1a37ce.js.map
